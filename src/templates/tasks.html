{% extends "base.html" %}

{% block head %}
    <title>Lista de Tareas</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
{% endblock %}

{% block body %}
    <div class="task-container">
        <h1>Lista de tareas</h1>

        {% if tasks %}
            {% for task in tasks %}
                <div class="{{ 'task-box-complete' if task.completed else 'task-box-incomplete' }}">
                    <span>{{ task.name }}</span>

                    <!-- BotÃ³n Completar -->
                    <form action="{{ url_for('tasks.toggle_task', task_id=task._id) }}" method="post" style="display:inline;">
                        <button type="submit" class="task-btn">Completar</button>
                    </form>

                    <!-- BotÃ³n Eliminar -->
                    <form action="{{ url_for('tasks.delete_task', task_id=task._id) }}" method="post" style="display:inline;">
                        <button type="submit" class="task-btn btn-danger">Eliminar</button>
                    </form>
                </div>
            {% endfor %}
        {% else %}
            <div class="main-box">
                <p>No hay tareas</p>
            </div>
        {% endif %}

        <form action="{{ url_for('tasks.create_task') }}" method="post">
            <div class="task-input">
                <input type="text" id="task_name" name="task_name" placeholder="Nueva tarea" required>
            </div>
            <button class="create-task-btn" type="submit">Crear</button>
        </form>
    </div>
{% endblock %}